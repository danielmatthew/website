---
const currentPath = Astro.url.pathname;

function daysUntil(futureDate) {
  // Convert input to Date if string provided
  const targetDate = new Date(futureDate);
  const today = new Date();

  // Validate future date
  if (targetDate < today) {
    throw new Error('Please provide a future date');
  }

  // Calculate difference in milliseconds
  const diffInMs = targetDate - today;

  // Convert to days and round down
  const diffInDays = Math.floor(diffInMs / (1000 * 60 * 60 * 24));

  return diffInDays;
}

// Usage example:
// const christmas = daysUntil('2024-12-25');
// const newYears = daysUntil(new Date(2025, 0, 1));
// const EAA = daysUntil('2025-06-28');
---
<a href="#main" class="skip-link visually-hidden-focusable">Skip to content</a>
<header class="banner">

  <div>
    <a href="/" class="logo">Dan Matthew</a>
  </div>

  <!-- <nav>
    {
      currentPath === "/notes" ? (
        <a href="/notes" aria-current="page">
          Notes
        </a>
      ) : (
        <a href="/notes">Notes</a>
      )
    }

  </nav> -->
  <dialog>
    <header>
      <h2>Settings</h2>
    </header>

    <button type="button">Close</button>
  </dialog>
</header>
<script>
  const dialog = document.querySelector('dialog');
  const button = document.querySelector('button[type="button"]');
  const closeButton = dialog.querySelector('dialog button');

  button.addEventListener('click', () => {
    dialog.showModal();
  });

  closeButton.addEventListener('click', () => {
    dialog.close();
  });
</script>
